# 1. 通用常见问题

## 1.1 WiFi模组不回复MCU任何数据


- 保证发送的数据格式正确
    
    常见错误：协议版本错误，协议版本固定为10，错写为01。


- 保证数据的校验码正确

    常见错误：校验数据是除包头5A以外的全部数据，错将5A也做校验数据。


- 保证数据长度为16的倍数

    常见错误：控制数据的数据长度包含功能变更位（updateflag），漏算变更位长度。


- 保证串口电路参数正确

    常见错误：

    1）模组与3.3V单片机通信，串口采用RC滤波，阻容参数过大导致波形畸变。

    推荐：波特率9600，电阻小于等于100R，电容小于等于100PF。
         波特率115200，电阻小于等于10R，电容小于等于10PF。
     
    2）模组与5V单片机通信，串口采用光耦隔离，光耦的开关速度与串口波特率不匹配；或光耦输入端限流电阻过大1K，导致波形畸变；
    
    推荐：电阻小于等于220R。

    3）模组与5V单片机通信，串口采用MOS管，源极限流电阻过大1K，导致波形畸变；

    推荐：电阻小于等于100R。
## 1.2 设备绑定失败


- 保证服务器配置的模组型号及绑定方式与实际使用一致

    常见错误：服务器配置的模组型号与实际使用不一致；绑定方式与实际使用不一致。
    
    例如：

     1.服务器配置汉枫模组，但产品使用乐鑫模组。
     
     2.服务器配置乐鑫模组AP绑定，但产品使用乐鑫模组smartlink绑定。

- 保证APP输入的路由密码正确

    常见错误：路由密码输入错误，或APP自动保存路由密码错误。


- 保证绑定命令0x0150的数据内容正确

    常见错误：MCU发送的devicekey不正确，设备编码不正确，硬件配置信息不正确。

    例如：MCU发送的硬件配置信息为16字节，但服务器配置硬件信息为32字节，导致服务器无法正常解析数据。


- 保证WiFi模组供电电流300mA

    常见错误：模组在绑定过程中需要重启，由于电源带载能力不足导致重启失败无法绑定。


- 保证路由制式为b/g模式，带宽20MHZ（仅限Smartlink绑定方式）

    常见错误：路由制式为b/g模式，带宽40MHZ；或路由制式为b/g/n模式，带宽20MHZ；路由与高速率手机通信，速率大于100MHZ，但WiFi模组最大支持的频率72MHZ。


- 保证路由信号良好

    常见错误：WiFi模组距路由太远，或路由放置在封闭的地方，路由信号强度低于-75dbm，导致绑定失败；用手机APP的WiFi分析仪扫描路由信号强度，必须在-75dbm以上。


- 保证WiFi模组信号良好

    常见错误：WiFi模组信号被金属外壳屏蔽，或被周围金属部件遮挡，导致信号衰减。
## 1.3 设备数据没有上传服务器


- 保证MCU发送数据的帧序号正确

    常见错误：MCU收到服务器或APP控制数据，错误的将收到的帧序号作为自己的帧序号发出，导致数据没有上传到服务器；MCU发送的帧序号都是0开头。
## 1.4 WiFi模组数据丢包


- 保证MCU发送数据间隔大于等于1秒；

    常见错误：在任何时间，尤其设备上电或绑定过程中，MCU发送数据间隔小于1秒，导致数据覆盖。
## 1.5 WiFi模组产测失败


- MCU收到模组回复的产测命令0x025A，禁止再次发送产测命令0x015A，或禁止重启模组。

    常见错误：MCU收到模组回复的产测命令0x025A，又再次发送产测命令0x015A，或重启模组，导致产测失败。
# 2. 乐鑫ESP8266常见问题

## 2.1 WiFi模组烧录固件后不能运行


- 模组固件只支持2M或4M Flash。
    
    常见错误：模组Flash为1M，模组硬件与固件不匹配。


- 模组烧录工具FLASH SIZE选择错误。
    
    常见错误：烧录工具“FLASH SIZE”是按bit计算，比如16Mbit-C1换算16/8=2MFlash。
## 2.2 WiFi模组重启未进入工作模式


- 模组Pin14（IO5）为功能选择脚，不能悬空，高电平是工作模式，低电平是射频产测模式。

    常见错误：模组Pin14（IO5）悬空，模组重启不能保证进入工作模式。


- 模组Pin6（IO15）为用户应用固件启动脚，固定接地。

    常见错误：模组Pin6（IO15）悬空，模组重启不能保证运行用户应用固件。
# 3. 汉枫HF-LPB100常见问题

## 3.1 WiFi模组绑定路由失败


- MCU收到模组应答绑定命令0x0250，应等待模组主动回复心跳，再发送数据查询模组状态；

    常见错误：MCU收到模组应答绑定命令0x0250后，MCU频繁发送数据导致模组重启失败。
## 3.2 WiFi模组本地无线升级超时失败


- 模组本地无线升级过程中，禁止MCU复位模组，也不能发送数据给模组；

    常见错误：

     1.模组无线升级过程中，MCU复位模组，导致升级超时失败；

     2.模组无线升级过程中，MCU频繁发送数据，导致升级超时失败；
# 4. 马维尔MW300常见问题

# 4.1. WiFi模组和MCU通信异常


- 保证模组和MCU的波特率一致

    常见错误：模组的波特率可选，模组和MCU的波特率不一致。
